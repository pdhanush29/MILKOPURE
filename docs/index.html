<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MilkoPure - Premium Dairy Products</title>
    <meta name="description" content="MilkoPure offers 100% organic, farm-fresh dairy products including milk, ghee, paneer, and yogurt. Experience pure quality with fast delivery.">
<style>
/* Reset and Base Styles */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    line-height: 1.6;
    color: #333;
    background-color: #ffffff;
}

.container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 20px;
}

/* Header/Navbar */
.header {
    background: #ffffff;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    z-index: 1000;
    transition: all 0.3s ease;
}

.navbar {
  padding: 0.5rem 0;
}


.nav-container {
    display: flex;
    justify-content: space-between;
    align-items: center;
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 20px;
}

.logo {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 2px; /* reduced spacing between logo and text */
}

.logo img {
  height: 40px; /* reduced from 70px */
  width: auto;
  margin-bottom: 2px;
}


.logo-text {
  font-size: 1.6rem;
  font-weight: bold;
  color: #2563eb;
  line-height: 1.2;
}

.nav-menu {
    display: flex;
    list-style: none;
    gap: 2rem;
}

.nav-link {
    text-decoration: none;
    color: #333;
    font-weight: 500;
    transition: color 0.3s ease;
    position: relative;
}

.nav-link:hover {
    color: #2563eb;
}

.nav-link::after {
    content: '';
    position: absolute;
    bottom: -5px;
    left: 0;
    width: 0;
    height: 2px;
    background: #2563eb;
    transition: width 0.3s ease;
}

.nav-link:hover::after {
    width: 100%;
}

.nav-actions {
    display: flex;
    align-items: center;
    gap: 1rem;
}

.auth-btn {
    background: #2563eb;
    color: white;
    border: none;
    padding: 0.5rem 1.5rem;
    border-radius: 25px;
    cursor: pointer;
    font-weight: 500;
    transition: all 0.3s ease;
}

.auth-btn:hover {
    background: #1d4ed8;
    transform: translateY(-2px);
}

.cart-icon {
    position: relative;
    cursor: pointer;
    color: #333;
    font-size: 1.2rem;
    transition: color 0.3s ease;
}

.cart-icon:hover {
    color: #2563eb;
}

.cart-count {
    position: absolute;
    top: -8px;
    right: -8px;
    background: #ef4444;
    color: white;
    border-radius: 50%;
    width: 20px;
    height: 20px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 0.8rem;
    font-weight: bold;
}

.hamburger {
    display: none;
    flex-direction: column;
    cursor: pointer;
    gap: 4px;
}

.hamburger span {
    width: 25px;
    height: 3px;
    background: #333;
    transition: all 0.3s ease;
}

/* Hero Section */
.hero {
    background: 
url('docs/images/landing.jpeg');
    background-size: cover;
    background-position: center;
    height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    text-align: center;
    color: white;
    margin-top: 80px;
}

.hero-content h1 {
    font-size: 3.5rem;
    margin-bottom: 1rem;
    font-weight: 700;
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
}

.hero-subtitle {
    font-size: 1.25rem;
    margin-bottom: 2rem;
    max-width: 600px;
    opacity: 0.95;
}

.cta-btn {
    background: white;
    color: #2563eb;
    border: none;
    padding: 1rem 2rem;
    font-size: 1.1rem;
    font-weight: 600;
    border-radius: 50px;
    cursor: pointer;
    transition: all 0.3s ease;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
}

.cta-btn:hover {
    transform: translateY(-3px);
    box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
}

/* Features Section */
.features {
    padding: 5rem 0;
    background: #f8fafc;
}

.features-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 2rem;
    margin-top: 3rem;
}

.feature-card {
    background: white;
    padding: 2rem;
    border-radius: 15px;
    text-align: center;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
    transition: all 0.3s ease;
}

.feature-card:hover {
    transform: translateY(-10px);
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
}

.feature-icon {
    width: 80px;
    height: 80px;
    background: linear-gradient(135deg, #2563eb, #3b82f6);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0 auto 1rem;
    color: white;
    font-size: 2rem;
}

.feature-card h3 {
    font-size: 1.5rem;
    margin-bottom: 1rem;
    color: #1f2937;
}

.feature-card p {
    color: #6b7280;
    line-height: 1.6;
}

/* Products Section */
.products {
    padding: 5rem 0;
    background: white;
}

.section-title {
    text-align: center;
    font-size: 2.5rem;
    margin-bottom: 3rem;
    color: #1f2937;
    font-weight: 700;
}

.product-filters {
    display: flex;
    justify-content: center;
    gap: 1rem;
    margin-bottom: 3rem;
    flex-wrap: wrap;
}

.filter-btn {
    background: white;
    border: 2px solid #e5e7eb;
    color: #6b7280;
    padding: 0.5rem 1.5rem;
    border-radius: 25px;
    cursor: pointer;
    font-weight: 500;
    transition: all 0.3s ease;
}

.filter-btn.active,
.filter-btn:hover {
    background: #2563eb;
    color: white;
    border-color: #2563eb;
}

.products-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 2rem;
}

.product-card {
    background: white;
    border-radius: 15px;
    overflow: hidden;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
    transition: all 0.3s ease;
    position: relative;
}

.product-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
}

.product-image {
    width: 100%;
    height: 200px;
    object-fit: contain;
    background-color: #f3f4f6; /* optional: adds a light background */
    padding: 10px;             /* optional: gives the image space */
}


.product-info {
    padding: 1.5rem;
}

.product-name {
    font-size: 1.25rem;
    font-weight: 600;
    margin-bottom: 0.5rem;
    color: #1f2937;
}

.product-price {
    font-size: 1.5rem;
    font-weight: 700;
    color: #2563eb;
    margin-bottom: 0.5rem;
}

.product-rating {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    margin-bottom: 1rem;
}

.stars {
    color: #fbbf24;
}

.product-description {
    color: #6b7280;
    margin-bottom: 1.5rem;
    line-height: 1.5;
}

.add-to-cart-btn {
    width: 100%;
    background: #2563eb;
    color: white;
    border: none;
    padding: 0.75rem;
    border-radius: 8px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
}

.add-to-cart-btn:hover:not(:disabled) {
    background: #1d4ed8;
}

.add-to-cart-btn:disabled {
    background: #9ca3af;
    cursor: not-allowed;
}

.out-of-stock {
    position: absolute;
    top: 10px;
    right: 10px;
    background: #ef4444;
    color: white;
    padding: 0.25rem 0.75rem;
    border-radius: 15px;
    font-size: 0.8rem;
    font-weight: 600;
}

/* About Section */
.about {
    padding: 5rem 0;
    background: #f8fafc;
}

.about-content {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 3rem;
    align-items: center;
}

.about-image img {
    width: 100%;
    border-radius: 15px;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
}

.about-text h2 {
    font-size: 2.5rem;
    margin-bottom: 1.5rem;
    color: #1f2937;
    font-weight: 700;
}

.about-text p {
    color: #6b7280;
    margin-bottom: 1.5rem;
    line-height: 1.8;
}

.about-stats {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 1rem;
    margin-top: 2rem;
}

.stat {
    text-align: center;
    padding: 1rem;
    background: white;
    border-radius: 10px;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
}

.stat h3 {
    font-size: 2rem;
    color: #2563eb;
    font-weight: 700;
}

.stat p {
    color: #6b7280;
    margin-top: 0.5rem;
}

/* Testimonials Section */
.testimonials {
    padding: 5rem 0;
    background: white;
}

.testimonials-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 2rem;
    margin-top: 3rem;
}

.testimonial-card {
    background: #f8fafc;
    padding: 2rem;
    border-radius: 15px;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
}

.testimonial-card .stars {
    margin-bottom: 1rem;
}

.testimonial-card p {
    color: #4b5563;
    margin-bottom: 1.5rem;
    line-height: 1.6;
    font-style: italic;
}

.testimonial-author {
    display: flex;
    align-items: center;
    gap: 1rem;
}

.testimonial-author img {
    width: 50px;
    height: 50px;
    border-radius: 50%;
    object-fit: cover;
}

.testimonial-author h4 {
    color: #1f2937;
    font-weight: 600;
}

.testimonial-author p {
    color: #6b7280;
    margin: 0;
    font-style: normal;
}

/* Contact Section */
.contact {
    padding: 5rem 0;
    background: #f8fafc;
}

.contact-content {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 3rem;
}

.contact-info h3 {
    font-size: 1.5rem;
    margin-bottom: 2rem;
    color: #1f2937;
}

.contact-item {
    display: flex;
    align-items: center;
    gap: 1rem;
    margin-bottom: 1.5rem;
}

.contact-item i {
    color: #2563eb;
    width: 20px;
    text-align: center;
}

.contact-form {
    background: white;
    padding: 2rem;
    border-radius: 15px;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
}

.form-group {
    margin-bottom: 1.5rem;
    position: relative;
}

.form-group input,
.form-group textarea {
    width: 100%;
    padding: 0.75rem;
    border: 2px solid #e5e7eb;
    border-radius: 8px;
    font-size: 1rem;
    transition: border-color 0.3s ease;
}

.form-group input:focus,
.form-group textarea:focus {
    outline: none;
    border-color: #2563eb;
}

.submit-btn {
    background: #2563eb;
    color: white;
    border: none;
    padding: 0.75rem 2rem;
    border-radius: 8px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
}

.submit-btn:hover {
    background: #1d4ed8;
}

/* Footer */
.footer {
    background: #1f2937;
    color: white;
    padding: 3rem 0 1rem;
}

.footer-content {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 2rem;
    margin-bottom: 2rem;
}

.footer-section h3 {
    margin-bottom: 1rem;
    color: #f3f4f6;
}

.footer-section ul {
    list-style: none;
}

.footer-section ul li {
    margin-bottom: 0.5rem;
}

.footer-section ul li a {
    color: #d1d5db;
    text-decoration: none;
    transition: color 0.3s ease;
}

.footer-section ul li a:hover {
    color: #2563eb;
}

.social-icons {
    display: flex;
    gap: 1rem;
    margin-top: 1rem;
}

.social-icons a {
    color: #d1d5db;
    font-size: 1.5rem;
    transition: color 0.3s ease;
}

.social-icons a:hover {
    color: #2563eb;
}

.newsletter-form {
    display: flex;
    gap: 0.5rem;
    margin-top: 1rem;
}

.newsletter-form input {
    flex: 1;
    padding: 0.5rem;
    border: none;
    border-radius: 4px;
}

.newsletter-form button {
    background: #2563eb;
    color: white;
    border: none;
    padding: 0.5rem 1rem;
    border-radius: 4px;
    cursor: pointer;
    font-weight: 500;
}

.footer-bottom {
    border-top: 1px solid #374151;
    padding-top: 1rem;
    text-align: center;
    color: #9ca3af;
}

/* Modals */
.modal {
    display: none;
    position: fixed;
    z-index: 1000;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.5);
    animation: fadeIn 0.3s ease;
}

.modal.show {
    display: flex;
    align-items: center;
    justify-content: center;
}

.modal-content {
    background: white;
    padding: 2rem;
    border-radius: 15px;
    max-width: 400px;
    width: 90%;
    position: relative;
    animation: slideIn 0.3s ease;
}

.close {
    position: absolute;
    right: 1rem;
    top: 1rem;
    font-size: 1.5rem;
    cursor: pointer;
    color: #6b7280;
}

.close:hover {
    color: #374151;
}

.auth-form h2 {
    text-align: center;
    margin-bottom: 2rem;
    color: #1f2937;
}

.auth-form .form-group {
    margin-bottom: 1rem;
}

.auth-form .submit-btn {
    width: 100%;
    margin-top: 1rem;
}

.switch-auth {
    text-align: center;
    margin-top: 1rem;
    color: #6b7280;
}

.switch-auth span {
    color: #2563eb;
    cursor: pointer;
    text-decoration: underline;
}

.error-msg {
    color: #ef4444;
    font-size: 0.8rem;
    margin-top: 0.25rem;
    display: block;
}

/* Shopping Cart Sidebar */
.cart-sidebar {
    position: fixed;
    right: -400px;
    top: 0;
    width: 400px;
    height: 100vh;
    background: white;
    box-shadow: -2px 0 10px rgba(0, 0, 0, 0.1);
    transition: right 0.3s ease;
    z-index: 1001;
    display: flex;
    flex-direction: column;
}

.cart-sidebar.open {
    right: 0;
}

.cart-header {
    padding: 1.5rem;
    border-bottom: 1px solid #e5e7eb;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.cart-header h3 {
    color: #1f2937;
    font-size: 1.25rem;
}

.close-cart {
    background: none;
    border: none;
    font-size: 1.5rem;
    cursor: pointer;
    color: #6b7280;
}

.cart-items {
    flex: 1;
    overflow-y: auto;
    padding: 1rem;
}

.cart-item {
    display: flex;
    gap: 1rem;
    padding: 1rem 0;
    border-bottom: 1px solid #f3f4f6;
}

.cart-item img {
    width: 60px;
    height: 60px;
    object-fit: cover;
    border-radius: 8px;
}

.cart-item-info {
    flex: 1;
}

.cart-item-name {
    font-weight: 600;
    color: #1f2937;
    margin-bottom: 0.25rem;
}

.cart-item-price {
    color: #2563eb;
    font-weight: 600;
}

.quantity-controls {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    margin-top: 0.5rem;
}

.quantity-btn {
    background: #f3f4f6;
    border: none;
    width: 30px;
    height: 30px;
    border-radius: 50%;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
}

.remove-btn {
    background: none;
    border: none;
    color: #ef4444;
    cursor: pointer;
    margin-left: auto;
}

.cart-footer {
    padding: 1.5rem;
    border-top: 1px solid #e5e7eb;
}

.cart-summary {
    margin-bottom: 1rem;
}

.summary-row {
    display: flex;
    justify-content: space-between;
    margin-bottom: 0.5rem;
}

.summary-row.total {
    font-weight: 700;
    font-size: 1.1rem;
    border-top: 1px solid #e5e7eb;
    padding-top: 0.5rem;
    margin-top: 1rem;
}

.checkout-btn {
    width: 100%;
    background: #2563eb;
    color: white;
    border: none;
    padding: 1rem;
    border-radius: 8px;
    font-weight: 600;
    cursor: pointer;
    transition: background 0.3s ease;
}

.checkout-btn:hover {
    background: #1d4ed8;
}

/* Checkout Modal */
.checkout-content {
    max-width: 600px;
    width: 95%;
    max-height: 90vh;
    overflow-y: auto;
}

.checkout-steps {
    display: flex;
    justify-content: center;
    margin-bottom: 2rem;
    gap: 2rem;
}

.step {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    color: #9ca3af;
}

.step.active {
    color: #2563eb;
}

.step-number {
    width: 30px;
    height: 30px;
    border-radius: 50%;
    background: #e5e7eb;
    color: #6b7280;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 600;
}

.step.active .step-number {
    background: #2563eb;
    color: white;
}

.checkout-form .form-row {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 1rem;
}

.payment-methods {
    margin-bottom: 2rem;
}

.payment-option {
    display: flex;
    align-items: center;
    padding: 1rem;
    border: 2px solid #e5e7eb;
    border-radius: 8px;
    margin-bottom: 0.5rem;
    cursor: pointer;
    transition: all 0.3s ease;
}

.payment-option:hover {
    border-color: #2563eb;
    background: #f8fafc;
}

.payment-option input[type="radio"] {
    margin-right: 1rem;
}

.payment-option label {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    cursor: pointer;
    flex: 1;
}

.checkout-actions {
    display: flex;
    gap: 1rem;
    justify-content: flex-end;
}

.back-btn {
    background: #f3f4f6;
    color: #374151;
    border: none;
    padding: 0.75rem 1.5rem;
    border-radius: 8px;
    cursor: pointer;
    font-weight: 600;
}

.next-btn {
    background: #2563eb;
    color: white;
    border: none;
    padding: 0.75rem 1.5rem;
    border-radius: 8px;
    cursor: pointer;
    font-weight: 600;
}

.order-confirmation {
    text-align: center;
    padding: 2rem 0;
}

.order-confirmation i {
    font-size: 4rem;
    color: #10b981;
    margin-bottom: 1rem;
}

.order-confirmation h3 {
    color: #1f2937;
    margin-bottom: 1rem;
}

.order-details {
    background: #f8fafc;
    padding: 1rem;
    border-radius: 8px;
    margin: 1rem 0;
}

.close-btn {
    background: #2563eb;
    color: white;
    border: none;
    padding: 0.75rem 2rem;
    border-radius: 8px;
    cursor: pointer;
    font-weight: 600;
}

/* Chat Widget */
.chat-widget {
    position: fixed;
    bottom: 20px;
    right: 20px;
    width: 300px;
    background: white;
    border-radius: 15px;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
    z-index: 1000;
    overflow: hidden;
}

.chat-header {
    background: #2563eb;
    color: white;
    padding: 1rem;
    display: flex;
    align-items: center;
    gap: 0.75rem;
    cursor: pointer;
}

.chat-avatar {
    width: 40px;
    height: 40px;
    background: rgba(255, 255, 255, 0.2);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
}

.chat-info h4 {
    margin: 0;
    font-size: 1rem;
}

.chat-status {
    margin: 0;
    font-size: 0.8rem;
    opacity: 0.8;
}

.chat-toggle {
    background: none;
    border: none;
    color: white;
    margin-left: auto;
    cursor: pointer;
    font-size: 1rem;
    transition: transform 0.3s ease;
}

.chat-body {
    height: 300px;
    display: flex;
    flex-direction: column;
}

.chat-body.collapsed {
    height: 0;
    overflow: hidden;
}

.chat-messages {
    flex: 1;
    overflow-y: auto;
    padding: 1rem;
}

.message {
    margin-bottom: 1rem;
}

.message-content {
    background: #f3f4f6;
    padding: 0.75rem;
    border-radius: 12px;
    max-width: 80%;
}

.bot-message .message-content {
    background: #2563eb;
    color: white;
    margin-right: auto;
}

.user-message .message-content {
    background: #e5e7eb;
    margin-left: auto;
}

.chat-input {
    display: flex;
    padding: 1rem;
    border-top: 1px solid #e5e7eb;
    gap: 0.5rem;
}

.chat-input input {
    flex: 1;
    border: 1px solid #e5e7eb;
    border-radius: 20px;
    padding: 0.5rem 1rem;
    outline: none;
}

.chat-input button {
    background: #2563eb;
    color: white;
    border: none;
    border-radius: 50%;
    width: 40px;
    height: 40px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
}

/* Auth Required Message */
.auth-required {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.8);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 2000;
}

.auth-message {
    background: white;
    padding: 3rem;
    border-radius: 15px;
    text-align: center;
    max-width: 400px;
    width: 90%;
}

.auth-message i {
    font-size: 3rem;
    color: #2563eb;
    margin-bottom: 1rem;
}

.auth-message h3 {
    color: #1f2937;
    margin-bottom: 1rem;
}

.login-btn {
    background: #2563eb;
    color: white;
    border: none;
    padding: 0.75rem 2rem;
    border-radius: 8px;
    cursor: pointer;
    font-weight: 600;
    margin-top: 1rem;
}

/* Animations */
@keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}

@keyframes slideIn {
    from { transform: translateY(-50px); opacity: 0; }
    to { transform: translateY(0); opacity: 1; }
}

/* Responsive Design */
@media (max-width: 768px) {
    .nav-menu {
        display: none;
    }
    
    .hamburger {
        display: flex;
    }
    
    .hero-content h1 {
        font-size: 2.5rem;
    }
    
    .hero-subtitle {
        font-size: 1rem;
    }
    
    .features-grid,
    .products-grid,
    .testimonials-grid {
        grid-template-columns: 1fr;
    }
    
    .about-content,
    .contact-content {
        grid-template-columns: 1fr;
    }
    
    .about-stats {
        grid-template-columns: 1fr;
    }
    
    .checkout-form .form-row {
        grid-template-columns: 1fr;
    }
    
    .cart-sidebar {
        width: 100%;
        right: -100%;
    }
    
    .chat-widget {
        width: 280px;
        bottom: 10px;
        right: 10px;
    }
}

@media (max-width: 480px) {
    .nav-container {
        padding: 0 10px;
    }
    
    .hero-content h1 {
        font-size: 2rem;
    }
    
    .section-title {
        font-size: 2rem;
    }
    
    .product-filters {
        gap: 0.5rem;
    }
    
    .filter-btn {
        padding: 0.4rem 1rem;
        font-size: 0.9rem;
    }
}

/* Hover effects for better user experience */
.product-card:hover .product-image {
    transform: scale(1.05);
    transition: transform 0.3s ease;
}

.feature-card:hover .feature-icon {
    transform: rotate(5deg);
    transition: transform 0.3s ease;
}

/* Focus styles for better accessibility */
button:focus,
input:focus,
textarea:focus {
    outline: 2px solid #2563eb;
    outline-offset: 2px;
}

/* Loading states */
.loading {
    opacity: 0.6;
    pointer-events: none;
}

.loading::after {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 20px;
    height: 20px;
    border: 2px solid #e5e7eb;
    border-top: 2px solid #2563eb;
    border-radius: 50%;
    animation: spin 1s linear infinite;
    transform: translate(-50%, -50%);
}

@keyframes spin {
    0% { transform: translate(-50%, -50%) rotate(0deg); }
    100% { transform: translate(-50%, -50%) rotate(360deg); }
}

.typing-dots {
    display: flex;
    gap: 4px;
    align-items: center;
}
.typing-dots span {
    width: 8px;
    height: 8px;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.7);
    animation: typing 1.4s infinite;
}
.typing-dots span:nth-child(2) {
    animation-delay: 0.2s;
}
.typing-dots span:nth-child(3) {
    animation-delay: 0.4s;
}
@keyframes typing {
    0%, 60%, 100% {
        transform: translateY(0);
        opacity: 0.7;
    }
    30% {
        transform: translateY(-10px);
        opacity: 1;
    }
}
</style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <!-- Header/Navbar -->
    <header class="header">
        <nav class="navbar">
            <div class="nav-container">
              <a href="#home" class="logo" style="text-decoration: none;">
  <img src="images/logo.PNG" alt="MilkoPure Logo">
  <span class="logo-text">MilkoPure</span>
</a>




                
                <ul class="nav-menu" id="navMenu">
                    <li><a href="#home" class="nav-link">Home</a></li>
                    <li><a href="#products" class="nav-link">Products</a></li>
                    <li><a href="#about" class="nav-link">About</a></li>
                    <li><a href="#contact" class="nav-link">Contact</a></li>
                </ul>
                
                <div class="nav-actions">
                    <button class="auth-btn" id="authBtn">Login</button>
                    <div class="cart-icon" id="cartIcon">
                        <i class="fas fa-shopping-cart"></i>
                        <span class="cart-count" id="cartCount">0</span>
                    </div>
                    <div class="hamburger" id="hamburger">
                        <span></span>
                        <span></span>
                        <span></span>
                    </div>
                </div>
            </div>
        </nav>
    </header>

    <!-- Login Modal -->
    <div class="modal" id="loginModal">
        <div class="modal-content">
            <span class="close" id="closeLogin">&times;</span>
            <h2>Login to MilkoPure</h2>
            <form class="auth-form" id="loginForm">
                <div class="form-group">
                    <input type="email" id="loginEmail" placeholder="Email" required>
                    <span class="error-msg" id="loginEmailError"></span>
                </div>
                <div class="form-group">
                    <input type="password" id="loginPassword" placeholder="Password" required>
                    <span class="error-msg" id="loginPasswordError"></span>
                </div>
                <button type="submit" class="submit-btn">Login</button>
                <p class="switch-auth">Don't have an account? <span id="showRegister">Register here</span></p>
            </form>
        </div>
    </div>

    <!-- Register Modal -->
    <div class="modal" id="registerModal">
        <div class="modal-content">
            <span class="close" id="closeRegister">&times;</span>
            <h2>Join MilkoPure</h2>
            <form class="auth-form" id="registerForm">
                <div class="form-group">
                    <input type="text" id="registerName" placeholder="Full Name" required>
                    <span class="error-msg" id="registerNameError"></span>
                </div>
                <div class="form-group">
                    <input type="email" id="registerEmail" placeholder="Email" required>
                    <span class="error-msg" id="registerEmailError"></span>
                </div>
                <div class="form-group">
                    <input type="password" id="registerPassword" placeholder="Password" required>
                    <span class="error-msg" id="registerPasswordError"></span>
                </div>
                <div class="form-group">
                    <input type="password" id="confirmPassword" placeholder="Confirm Password" required>
                    <span class="error-msg" id="confirmPasswordError"></span>
                </div>
                <button type="submit" class="submit-btn">Register</button>
                <p class="switch-auth">Already have an account? <span id="showLogin">Login here</span></p>
            </form>
        </div>
    </div>

    <!-- Main Content -->
    <main>
        <!-- Hero Section -->
        <section class="hero" id="home">
            <div class="hero-content">
                <h1 class="hero-title">MILKO-PURE</h1>
                <p class="hero-subtitle">"freshness serves everyday"</p>
                <button class="cta-btn" id="shopNowBtn">Shop Now</button>
            </div>
        </section>

        <!-- Features Section -->
        <section class="features">
            <div class="container">
                <div class="features-grid">
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-leaf"></i>
                        </div>
                        <h3>100% Organic</h3>
                        <p>Sourced from certified organic farms with no artificial additives</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-recycle"></i>
                        </div>
                        <h3>Eco-Friendly</h3>
                        <p>Sustainable packaging and environmentally conscious practices</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-truck"></i>
                        </div>
                        <h3>Fast Delivery</h3>
                        <p>Fresh products delivered within 24 hours of ordering</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Products Section -->
        <section class="products" id="products">
            <div class="container">
                <h2 class="section-title">Our Products</h2>
                <div class="product-filters">
                    <button class="filter-btn active" data-category="all">All Products</button>
                    <button class="filter-btn" data-category="milk">Milk</button>
                    <button class="filter-btn" data-category="ghee">Ghee</button>
                    <button class="filter-btn" data-category="paneer">Paneer</button>
                    <button class="filter-btn" data-category="yogurt">Yogurt</button>
                </div>
                <div class="products-grid" id="productsGrid">
                    <!-- Products will be loaded here -->
                </div>
            </div>
        </section>

        <!-- About Section -->
        <section class="about" id="about">
            <div class="container">
                <div class="about-content">
                    <div class="about-image">
                        <img src="https://images.unsplash.com/photo-1500595046743-cd271d694d30?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2074&q=80" alt="Dairy Farm">
                    </div>
                    <div class="about-text">
                        <h2>Our Mission</h2>
                        <p>At MilkoPure, we believe in bringing you the purest dairy products straight from our partner farms to your table. Our commitment to sustainability and quality ensures that every product meets the highest standards.</p>
                        <p>We work directly with local farmers who share our values of ethical farming, animal welfare, and environmental responsibility. Our farm-to-table approach guarantees freshness while supporting sustainable agriculture.</p>
                        <div class="about-stats">
                            <div class="stat">
                                <h3>50+</h3>
                                <p>Partner Farms</p>
                            </div>
                            <div class="stat">
                                <h3>10,000+</h3>
                                <p>Happy Customers</p>
                            </div>
                            <div class="stat">
                                <h3>5 Years</h3>
                                <p>Of Excellence</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Testimonials Section -->
        <section class="testimonials">
            <div class="container">
                <h2 class="section-title">What Our Customers Say</h2>
                <div class="testimonials-grid">
                    <div class="testimonial-card">
                        <div class="stars">
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                        </div>
                        <p>"The quality of milk is exceptional. My family loves the fresh taste and I appreciate the organic certification."</p>
                        <div class="testimonial-author">
                            <img src="https://img.freepik.com/premium-photo/handsome-business-man-formal-dress_1018831-734.jpg"   alt="Customer">
                            <div>
                                <h4>Sarah Johnson</h4>
                                <p>Regular Customer</p>
                            </div>
                        </div>
                    </div>
                    <div class="testimonial-card">
                        <div class="stars">
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                        </div>
                        <p>"Best ghee I've ever tasted! The delivery is always on time and packaging is eco-friendly."</p>
                        <div class="testimonial-author">
                            <img src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-4.0.3&auto=format&fit=crop&w=150&q=80" alt="Customer">
                            <div>
                                <h4>Michael Chen</h4>
                                <p>Food Enthusiast</p>
                            </div>
                        </div>
                    </div>
                    <div class="testimonial-card">
                        <div class="stars">
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                        </div>
                        <p>"Excellent customer service and the freshest paneer. MilkoPure has become our go-to dairy supplier."</p>
                        <div class="testimonial-author">
                            <img src="https://images.unsplash.com/photo-1438761681033-6461ffad8d80?ixlib=rb-4.0.3&auto=format&fit=crop&w=150&q=80" alt="Customer">
                            <div>
                                <h4>Priya Sharma</h4>
                                <p>Home Chef</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Contact Section -->
        <section class="contact" id="contact">
            <div class="container">
                <h2 class="section-title">Get In Touch</h2>
                <div class="contact-content">
                    <div class="contact-info">
                        <h3>Contact Information</h3>
                        <div class="contact-item">
                            <i class="fas fa-map-marker-alt"></i>
                            <p>123 Dairy ,ballary </p>
                        </div>
                        <div class="contact-item">
                            <i class="fas fa-phone"></i>
                            <p>+91 7072727027</p>
                        </div>
                        <div class="contact-item">
                            <i class="fas fa-envelope"></i>
                            <p>info@milkopure.com</p>
                        </div>
                        <div class="contact-item">
                            <i class="fas fa-clock"></i>
                            <p>Mon-Fri: 8AM-6PM, Sat-Sun: 9AM-4PM</p>
                        </div>
                    </div>
                    <form class="contact-form" id="contactForm">
                        <div class="form-group">
                            <input type="text" placeholder="Your Name" required>
                        </div>
                        <div class="form-group">
                            <input type="email" placeholder="Your Email" required>
                        </div>
                        <div class="form-group">
                            <input type="text" placeholder="Subject" required>
                        </div>
                        <div class="form-group">
                            <textarea placeholder="Your Message" rows="5" required></textarea>
                        </div>
                        <button type="submit" class="submit-btn">Send Message</button>
                    </form>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <div class="logo">
                        <div class="logo-icon">
                            <i class="fas fa-cow"></i>
                        </div>
                        <span class="logo-text">MilkoPure</span>
                    </div>
                    <p>Pure dairy products from farm to your table</p>
                    <div class="social-icons">
                        <a href="#"><i class="fab fa-facebook"></i></a>
                        <a href="#"><i class="fab fa-twitter"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                        <a href="#"><i class="fab fa-youtube"></i></a>
                    </div>
                </div>
                <div class="footer-section">
                    <h3>Quick Links</h3>
                    <ul>
                        <li><a href="#home">Home</a></li>
                        <li><a href="#about">About Us</a></li>
                        <li><a href="#contact">Contact</a></li>
                        <li><a href="#">Privacy Policy</a></li>
                        <li><a href="#">Terms of Service</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h3>Products</h3>
                    <ul>
                        <li><a href="#products">Fresh Milk</a></li>
                        <li><a href="#products">Pure Ghee</a></li>
                        <li><a href="#products">Fresh Paneer</a></li>
                        <li><a href="#products">Greek Yogurt</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h3>Newsletter</h3>
                    <p>Subscribe for updates and special offers</p>
                    <form class="newsletter-form">
                        <input type="email" placeholder="Your email">
                        <button type="submit">Subscribe</button>
                    </form>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 MilkoPure. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- Shopping Cart Sidebar -->
    <div class="cart-sidebar" id="cartSidebar">
        <div class="cart-header">
            <h3>Shopping Cart</h3>
            <button class="close-cart" id="closeCart">&times;</button>
        </div>
        <div class="cart-items" id="cartItems">
            <!-- Cart items will be displayed here -->
        </div>
        <div class="cart-footer">
            <div class="cart-summary">
                <div class="summary-row">
                    <span>Subtotal:</span>
                    <span id="cartSubtotal">₹0.00</span>
                </div>
                <div class="summary-row">
                    <span>Tax:</span>
                    <span id="cartTax">₹0.00</span>
                </div>
                <div class="summary-row">
                    <span>Delivery:</span>
                    <span id="cartDelivery">₹5.00</span>
                </div>
                <div class="summary-row total">
                    <span>Total:</span>
                    <span id="cartTotal">₹0.00</span>
                </div>
            </div>
            <button class="checkout-btn" id="checkoutBtn">Proceed to Checkout</button>
        </div>
    </div>

    <!-- Checkout Modal -->
    <div class="modal" id="checkoutModal">
        <div class="modal-content checkout-content">
            <span class="close" id="closeCheckout">&times;</span>
            <h2>Checkout</h2>
            <div class="checkout-steps">
                <div class="step active" data-step="1">
                    <span class="step-number">1</span>
                    <span class="step-title">Shipping</span>
                </div>
                <div class="step" data-step="2">
                    <span class="step-number">2</span>
                    <span class="step-title">Payment</span>
                </div>
                <div class="step" data-step="3">
                    <span class="step-number">3</span>
                    <span class="step-title">Confirmation</span>
                </div>
            </div>
            
            <!-- Step 1: Shipping Form -->
            <div class="checkout-step" id="step1">
                <h3>Shipping Information</h3>
                <form class="checkout-form" id="shippingForm">
                    <div class="form-row">
                        <div class="form-group">
                            <input type="text" placeholder="First Name" required>
                        </div>
                        <div class="form-group">
                            <input type="text" placeholder="Last Name" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <input type="text" placeholder="Address" required>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <input type="text" placeholder="City" required>
                        </div>
                        <div class="form-group">
                            <input type="text" placeholder="ZIP Code" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <input type="tel" placeholder="Phone Number" required>
                    </div>
                    <button type="button" class="next-btn" onclick="nextStep()">Continue to Payment</button>
                </form>
            </div>

            <!-- Step 2: Payment Method -->
            <div class="checkout-step" id="step2" style="display: none;">
                <h3>Payment Method</h3>
                <div class="payment-methods">
                    <div class="payment-option">
                        <input type="radio" id="cod" name="payment" value="cod" checked>
                        <label for="cod">
                            <i class="fas fa-money-bill-wave"></i>
                            Cash on Delivery
                        </label>
                    </div>
                    <div class="payment-option">
                        <input type="radio" id="upi" name="payment" value="upi">
                        <label for="upi">
                            <i class="fas fa-mobile-alt"></i>
                            UPI Payment
                        </label>
                    </div>
                    <div class="payment-option">
                        <input type="radio" id="card" name="payment" value="card">
                        <label for="card">
                            <i class="fas fa-credit-card"></i>
                            Credit/Debit Card
                        </label>
                    </div>
                    <div class="payment-option">
                        <input type="radio" id="netbanking" name="payment" value="netbanking">
                        <label for="netbanking">
                            <i class="fas fa-university"></i>
                            Net Banking
                        </label>
                    </div>
                </div>
                <div class="checkout-actions">
                    <button type="button" class="back-btn" onclick="prevStep()">Back</button>
                    <button type="button" class="next-btn" onclick="nextStep()">Place Order</button>
                </div>
            </div>

            <!-- Step 3: Order Confirmation -->
            <div class="checkout-step" id="step3" style="display: none;">
                <div class="order-confirmation">
                    <i class="fas fa-check-circle"></i>
                    <h3>Order Confirmed!</h3>
                    <p>Thank you for your order. We'll deliver your fresh dairy products within 24 hours.</p>
                    <div class="order-details">
                        <p><strong>Order ID:</strong> <span id="orderId"></span></p>
                        <p><strong>Total Amount:</strong> <span id="orderTotal"></span></p>
                        <p><strong>Payment Method:</strong> <span id="orderPayment"></span></p>
                    </div>
                    <button class="close-btn" onclick="closeCheckout()">Continue Shopping</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Chat Widget -->
    <div class="chat-widget" id="chatWidget">
        <div class="chat-header" id="chatHeader">
            <div class="chat-avatar">
                <i class="fas fa-headset"></i>
            </div>
            <div class="chat-info">
                <h4>Customer Support</h4>
                <p class="chat-status">Online</p>
            </div>
            <button class="chat-toggle" id="chatToggle">
                <i class="fas fa-chevron-down"></i>
            </button>
        </div>
        <div class="chat-body" id="chatBody">
            <div class="chat-messages" id="chatMessages">
                <div class="message bot-message">
                    <div class="message-content">
                        <p>Hello! I'm here to help you with any questions about our dairy products. How can I assist you today?</p>
                    </div>
                </div>
            </div>
            <div class="chat-input">
                <input type="text" id="chatInput" placeholder="Type your message...">
                <button id="sendMessage">
                    <i class="fas fa-paper-plane"></i>
                </button>
            </div>
        </div>
    </div>

    <!-- Auth Required Message -->
    <div class="auth-required" id="authRequired" style="display: none;">
        <div class="auth-message">
            <i class="fas fa-lock"></i>
            <h3>Login Required</h3>
            <p>Please login to view products and add items to your cart.</p>
            <button class="login-btn" onclick="showLoginModal()">Login Now</button>
        </div>
    </div>

    <script > // Global state
let currentUser = null;
let cart = [];
let isLoggedIn = false;
let currentStep = 1;

// Sample product data
const products = [
    {
        id: 1,
        name: "Fresh Organic Milk(1l)",
        price: 79,
        category: "milk",
        image: "images/skimmedmil.jpeg",
        rating: 4.8,
        description: "Pure, fresh organic milk from grass-fed cows. Rich in nutrients and free from hormones.",
        inStock: true
    },
    {
        id: 2,
        name: "Premium curd(200g)",
        price: 19,
        category: "milk",
        image: "images/curd.jpeg",
        rating: 4.9,
        description: "A2 protein milk that's easier to digest and naturally sourced from heritage breed cows.",
        inStock: true
    },
    {
        id: 3,
        name: "Pure Desi Ghee(900 mg)",
        price: 899,
        category: "ghee",
        image: "images/ghee.jpeg",
        rating: 4.7,
        description: "Traditional clarified butter made from organic cow milk using ancient methods.",
        inStock: true
    },
    {
        id: 4,
        name: "Butter(200gm)",
        price: 89,
        category: "ghee",
        image: "images/butter.jpeg",
        rating: 4.8,
        description: "Premium ghee from grass-fed cows, rich in omega-3 fatty acids and vitamins.",
        inStock: false
    },
    {
        id: 5,
        name: "Fresh Cottage Cheese(200gm)",
        price: 150,
        category: "paneer",
        image: "images/cheese.jpeg",
        rating: 4.6,
        description: "Soft, fresh paneer made daily from organic milk. Perfect for Indian cuisine.",
        inStock: true
    },
    {
        id: 6,
        name: "Artisan Paneer(200gm)",
        price: 250,
        category: "paneer",
        image: "images/panner",
        rating: 4.9,
        description: "Hand-crafted paneer with perfect texture and taste, made using traditional methods.",
        inStock: true
    },
    {
        id: 7,
        name: "Greek Style Yogurt(150gm)",
        price:  199,
        category: "yogurt",
        image: "images/flavouredyogurt.jpeg",
        rating: 4.7,
        description: "C:\Users\pdhan\Downloads\milkopure\flavouredyogurt",
        inStock: true
    },
    {
        id: 8,
        name: "Toned milk",
        price: 59,
        category: "milk",
        image: "images/tonedmilk.jpeg",
        rating: 4.8,
        description: "Rich in live cultures and beneficial bacteria for digestive health.",
        inStock: true
    }
];

// Enhanced Chatbot responses with detailed product information
const chatResponses = {
    "quality": "All our products are 100% organic and sourced from certified farms. We maintain strict quality standards and test every batch for purity, freshness, and nutritional value.",
    
    "organic": "Yes, all our dairy products are certified organic. Our partner farms follow sustainable farming practices without using harmful chemicals, hormones, or antibiotics.",
    
    "delivery": "We offer same-day delivery within the city and next-day delivery to surrounding areas. Delivery is free for orders over $30. We use temperature-controlled vehicles to maintain product freshness.",
    
    "freshness": "Our products are delivered within 24 hours of production. We use cold chain logistics and temperature-controlled vehicles to ensure maximum freshness from farm to your doorstep.",
    
    "ingredients": "Our products contain no artificial preservives, colors, or flavors. We believe in pure, natural dairy products with minimal processing to retain nutritional value.",
    
    "price": "We offer competitive pricing for premium organic dairy products. Check our website for current offers and discounts. We also have bulk order discounts available.",
    
    "nutrition": "Our dairy products are rich in protein, calcium, vitamins A, D, B12, and beneficial probiotics. Each product has detailed nutritional information on the package.",
    
    "farm": "We work with over 50 certified organic farms that practice sustainable and ethical farming methods. All our farms are regularly inspected for quality and animal welfare standards.",
    
    "milk": "Our fresh organic milk comes from grass-fed cows and contains no hormones or antibiotics. Available in whole milk and A2 protein variants for easier digestion.",
    
    "ghee": "Our pure desi ghee is made using traditional methods from organic cow milk. It's rich in healthy fats and has a longer shelf life without refrigeration.",
    
    "paneer": "Our fresh cottage cheese (paneer) is made daily from organic milk. It's soft, fresh, and perfect for Indian cuisine. No preservatives added.",
    
    "yogurt": "Our yogurt varieties include Greek-style and probiotic yogurt, both rich in live cultures for digestive health. Made from organic milk with natural ingredients.",
    
    "storage": "Milk and yogurt should be refrigerated at 4°C or below. Ghee can be stored at room temperature in a cool, dry place. Paneer should be consumed within 2-3 days of purchase.",
    
    "benefits": "Our organic dairy products provide high-quality protein, calcium for bone health, probiotics for digestion, and essential vitamins. They're free from harmful chemicals and hormones.",
    
    "packaging": "We use eco-friendly packaging materials that are recyclable. Our milk comes in glass bottles that can be returned, and other products use biodegradable packaging.",
    
    "subscription": "Yes, we offer subscription services for regular delivery of your favorite products. You can customize frequency and quantity, with special discounts for subscribers.",
    
    "return": "We have a 100% satisfaction guarantee. If you're not satisfied with any product, contact us within 24 hours for a full refund or replacement.",
    
    "contact": "You can reach us at +1 (555) 123-4567 or email info@milkopure.com. Our customer service is available Mon-Fri 8AM-6PM, Sat-Sun 9AM-4PM.",
    
    "default": "I'm here to help with any questions about our dairy products, quality, delivery, or orders. You can ask me about our milk, ghee, paneer, yogurt, or any other concerns you might have!"
};

// DOM elements
const authBtn = document.getElementById('authBtn');
const loginModal = document.getElementById('loginModal');
const registerModal = document.getElementById('registerModal');
const cartIcon = document.getElementById('cartIcon');
const cartSidebar = document.getElementById('cartSidebar');
const cartCount = document.getElementById('cartCount');
const productsGrid = document.getElementById('productsGrid');
const authRequired = document.getElementById('authRequired');
const checkoutModal = document.getElementById('checkoutModal');
const chatWidget = document.getElementById('chatWidget');
const chatBody = document.getElementById('chatBody');
const chatToggle = document.getElementById('chatToggle');
const chatInput = document.getElementById('chatInput');
const chatMessages = document.getElementById('chatMessages');
const sendMessage = document.getElementById('sendMessage');

// Local Storage Functions
function saveToLocalStorage(key, data) {
    try {
        localStorage.setItem(key, JSON.stringify(data));
    } catch (error) {
        console.error('Error saving to localStorage:', error);
    }
}

function getFromLocalStorage(key) {
    try {
        const data = localStorage.getItem(key);
        return data ? JSON.parse(data) : null;
    } catch (error) {
        console.error('Error reading from localStorage:', error);
        return null;
    }
}

function removeFromLocalStorage(key) {
    try {
        localStorage.removeItem(key);
    } catch (error) {
        console.error('Error removing from localStorage:', error);
    }
}

// User Management Functions
function getStoredUsers() {
    return getFromLocalStorage('milkopure_users') || [];
}

function saveUser(user) {
    const users = getStoredUsers();
    users.push(user);
    saveToLocalStorage('milkopure_users', users);
}

function findUserByEmail(email) {
    const users = getStoredUsers();
    return users.find(user => user.email === email);
}

function updateStoredUser(updatedUser) {
    const users = getStoredUsers();
    const userIndex = users.findIndex(user => user.id === updatedUser.id);
    if (userIndex !== -1) {
        users[userIndex] = updatedUser;
        saveToLocalStorage('milkopure_users', users);
    }
}

// Session Management
function saveUserSession(user) {
    const sessionData = {
        user: user,
        loginTime: new Date().toISOString(),
        expiresAt: new Date(Date.now() + 24 * 60 * 60 * 1000).toISOString() // 24 hours
    };
    saveToLocalStorage('milkopure_session', sessionData);
}

function getUserSession() {
    const session = getFromLocalStorage('milkopure_session');
    if (session && new Date(session.expiresAt) > new Date()) {
        return session;
    }
    removeFromLocalStorage('milkopure_session');
    return null;
}

function clearUserSession() {
    removeFromLocalStorage('milkopure_session');
}

// Cart Management
function saveCartToStorage() {
    if (isLoggedIn && currentUser) {
        saveToLocalStorage(`milkopure_cart_${currentUser.id}`, cart);
    }
}

function loadCartFromStorage() {
    if (isLoggedIn && currentUser) {
        const savedCart = getFromLocalStorage(`milkopure_cart_${currentUser.id}`);
        if (savedCart) {
            cart = savedCart;
            updateCartUI();
        }
    }
}

function clearCartFromStorage() {
    if (currentUser) {
        removeFromLocalStorage(`milkopure_cart_${currentUser.id}`);
    }
}

// Initialize the website
document.addEventListener('DOMContentLoaded', function() {
    checkExistingSession();
    loadProducts();
    setupEventListeners();
    updateAuthUI();
    initializeChat();
});

// Check for existing user session on page load
function checkExistingSession() {
    const session = getUserSession();
    if (session) {
        currentUser = session.user;
        isLoggedIn = true;
        loadCartFromStorage();
        updateAuthUI();
        showNotification('Welcome back, ' + currentUser.name + '!');
    }
}

// Event listeners
function setupEventListeners() {
    // Authentication
    authBtn.addEventListener('click', () => {
        if (isLoggedIn) {
            logout();
        } else {
            showLoginModal();
        }
    });

    // Modal close buttons
    document.getElementById('closeLogin').addEventListener('click', () => hideModal(loginModal));
    document.getElementById('closeRegister').addEventListener('click', () => hideModal(registerModal));
    document.getElementById('closeCheckout').addEventListener('click', () => hideModal(checkoutModal));

    // Auth form switches
    document.getElementById('showRegister').addEventListener('click', () => {
        hideModal(loginModal);
        showModal(registerModal);
    });

    document.getElementById('showLogin').addEventListener('click', () => {
        hideModal(registerModal);
        showModal(loginModal);
    });

    // Form submissions
    document.getElementById('loginForm').addEventListener('submit', handleLogin);
    document.getElementById('registerForm').addEventListener('submit', handleRegister);
    document.getElementById('contactForm').addEventListener('submit', handleContactForm);

    // Cart
    cartIcon.addEventListener('click', toggleCart);
    document.getElementById('closeCart').addEventListener('click', closeCart);
    document.getElementById('checkoutBtn').addEventListener('click', openCheckout);

    // Product filters
    document.querySelectorAll('.filter-btn').forEach(btn => {
        btn.addEventListener('click', (e) => {
            document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
            e.target.classList.add('active');
            filterProducts(e.target.dataset.category);
        });
    });

    // Shop now button
    document.getElementById('shopNowBtn').addEventListener('click', () => {
        if (!isLoggedIn) {
            showAuthRequired();
        } else {
            document.getElementById('products').scrollIntoView({ behavior: 'smooth' });
        }
    });

    // Mobile menu toggle
    const hamburger = document.getElementById('hamburger');
    const navMenu = document.getElementById('navMenu');
    
    hamburger.addEventListener('click', () => {
        navMenu.classList.toggle('active');
    });

    // Smooth scrolling for navigation links
    document.querySelectorAll('.nav-link').forEach(link => {
        link.addEventListener('click', (e) => {
            e.preventDefault();
            const targetId = link.getAttribute('href').substring(1);
            const targetElement = document.getElementById(targetId);
            if (targetElement) {
                targetElement.scrollIntoView({ behavior: 'smooth' });
            }
        });
    });

    // Chat functionality
    chatToggle.addEventListener('click', toggleChat);
    sendMessage.addEventListener('click', sendChatMessage);
    chatInput.addEventListener('keypress', (e) => {
        if (e.key === 'Enter') {
            sendChatMessage();
        }
    });

    // Newsletter form
    document.querySelector('.newsletter-form').addEventListener('submit', (e) => {
        e.preventDefault();
        const email = e.target.querySelector('input').value;
        if (email) {
            alert('Thank you for subscribing to our newsletter!');
            e.target.reset();
        }
    });
}

// Authentication functions with local storage
function handleLogin(e) {
    e.preventDefault();
    clearErrors();
    
    const email = document.getElementById('loginEmail').value;
    const password = document.getElementById('loginPassword').value;
    
    if (!validateEmail(email)) {
        showError('loginEmailError', 'Please enter a valid email address');
        return;
    }
    
    if (password.length < 6) {
        showError('loginPasswordError', 'Password must be at least 6 characters');
        return;
    }
    
    // Check credentials from localStorage
    const user = findUserByEmail(email);
    
    if (user && user.password === password) {
        currentUser = user;
        isLoggedIn = true;
        saveUserSession(user);
        loadCartFromStorage();
        hideModal(loginModal);
        updateAuthUI();
        hideAuthRequired();
        showNotification('Welcome back, ' + user.name + '!');
        
        // Clear form
        document.getElementById('loginForm').reset();
    } else {
        showError('loginPasswordError', 'Invalid email or password');
    }
}

function handleRegister(e) {
    e.preventDefault();
    clearErrors();
    
    const name = document.getElementById('registerName').value;
    const email = document.getElementById('registerEmail').value;
    const password = document.getElementById('registerPassword').value;
    const confirmPassword = document.getElementById('confirmPassword').value;
    
    if (name.length < 2) {
        showError('registerNameError', 'Name must be at least 2 characters');
        return;
    }
    
    if (!validateEmail(email)) {
        showError('registerEmailError', 'Please enter a valid email address');
        return;
    }
    
    if (password.length < 6) {
        showError('registerPasswordError', 'Password must be at least 6 characters');
        return;
    }
    
    if (password !== confirmPassword) {
        showError('confirmPasswordError', 'Passwords do not match');
        return;
    }
    
    // Check if user already exists
    if (findUserByEmail(email)) {
        showError('registerEmailError', 'Email already registered');
        return;
    }
    
    // Create new user
    const newUser = {
        id: Date.now(), // Simple ID generation
        name: name,
        email: email,
        password: password,
        registeredAt: new Date().toISOString()
    };
    
    saveUser(newUser);
    currentUser = newUser;
    isLoggedIn = true;
    saveUserSession(newUser);
    hideModal(registerModal);
    updateAuthUI();
    hideAuthRequired();
    showNotification('Account created successfully! Welcome, ' + name + '!');
    
    // Clear form
    document.getElementById('registerForm').reset();
}

function logout() {
    currentUser = null;
    isLoggedIn = false;
    cart = [];
    clearUserSession();
    clearCartFromStorage();
    updateAuthUI();
    updateCartUI();
    showNotification('Logged out successfully');
}

function updateAuthUI() {
    if (isLoggedIn) {
        authBtn.textContent = `Logout (${currentUser.name})`;
        cartIcon.style.display = 'block';
    } else {
        authBtn.textContent = 'Login';
        cartIcon.style.display = 'none';
    }
}

// Product functions
function loadProducts() {
    renderProducts(products);
}

function renderProducts(productsToRender) {
    productsGrid.innerHTML = '';
    
    productsToRender.forEach(product => {
        const productCard = createProductCard(product);
        productsGrid.appendChild(productCard);
    });
}

function createProductCard(product) {
    const card = document.createElement('div');
    card.className = 'product-card';
    
    const stars = '★'.repeat(Math.floor(product.rating)) + '☆'.repeat(5 - Math.floor(product.rating));
    
    card.innerHTML = `
        ${!product.inStock ? '<div class="out-of-stock">Out of Stock</div>' : ''}
        <img src="${product.image}" alt="${product.name}" class="product-image">
        <div class="product-info">
            <h3 class="product-name">${product.name}</h3>
            <div class="product-price">₹${product.price.toFixed(2)}</div>
            <div class="product-rating">
                <span class="stars">${stars}</span>
                <span>(${product.rating})</span>
            </div>
            <p class="product-description">${product.description}</p>
            <button class="add-to-cart-btn" onclick="addToCart(${product.id})" ${!product.inStock ? 'disabled' : ''}>
                ${product.inStock ? 'Add to Cart' : 'Out of Stock'}
            </button>
        </div>
    `;
    
    return card;
}

function filterProducts(category) {
    if (category === 'all') {
        renderProducts(products);
    } else {
        const filtered = products.filter(p => p.category === category);
        renderProducts(filtered);
    }
}

function addToCart(productId) {
    if (!isLoggedIn) {
        showAuthRequired();
        return;
    }
    
    const product = products.find(p => p.id === productId);
    if (!product || !product.inStock) return;
    
    const existingItem = cart.find(item => item.id === productId);
    
    if (existingItem) {
        existingItem.quantity += 1;
    } else {
        cart.push({ ...product, quantity: 1 });
    }
    
    updateCartUI();
    saveCartToStorage();
    showNotification(`${product.name} added to cart!`);
}

function removeFromCart(productId) {
    cart = cart.filter(item => item.id !== productId);
    updateCartUI();
    saveCartToStorage();
}

function updateQuantity(productId, change) {
    const item = cart.find(item => item.id === productId);
    if (item) {
        item.quantity += change;
        if (item.quantity <= 0) {
            removeFromCart(productId);
        } else {
            updateCartUI();
            saveCartToStorage();
        }
    }
}

function updateCartUI() {
    const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
    cartCount.textContent = totalItems;
    
    const cartItems = document.getElementById('cartItems');
    cartItems.innerHTML = '';
    
    if (cart.length === 0) {
        cartItems.innerHTML = '<p style="text-align: center; color: #6b7280; padding: 2rem;">Your cart is empty</p>';
    } else {
        cart.forEach(item => {
            const cartItem = document.createElement('div');
            cartItem.className = 'cart-item';
            cartItem.innerHTML = `
                <img src="${item.image}" alt="${item.name}">
                <div class="cart-item-info">
                    <div class="cart-item-name">${item.name}</div>
                    <div class="cart-item-price">₹${item.price.toFixed(2)}</div>
                    <div class="quantity-controls">
                        <button class="quantity-btn" onclick="updateQuantity(${item.id}, -1)">-</button>
                        <span>${item.quantity}</span>
                        <button class="quantity-btn" onclick="updateQuantity(${item.id}, 1)">+</button>
                    </div>
                </div>
                <button class="remove-btn" onclick="removeFromCart(${item.id})">
                    <i class="fas fa-trash"></i>
                </button>
            `;
            cartItems.appendChild(cartItem);
        });
    }
    
    updateCartSummary();
}

function updateCartSummary() {
    const subtotal = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
    const tax = subtotal * 0.08; // 8% tax
    const delivery = subtotal > 30 ? 0 : 5; // Free delivery over $30
    const total = subtotal + tax + delivery;
    
    document.getElementById('cartSubtotal').textContent = `₹${subtotal.toFixed(2)}`;
    document.getElementById('cartTax').textContent = `₹${tax.toFixed(2)}`;
    document.getElementById('cartDelivery').textContent = delivery === 0 ? 'FREE' : `₹${delivery.toFixed(2)}`;
    document.getElementById('cartTotal').textContent = `₹${total.toFixed(2)}`;
}

// Cart functions
function toggleCart() {
    if (!isLoggedIn) {
        showAuthRequired();
        return;
    }
    cartSidebar.classList.toggle('open');
}

function closeCart() {
    cartSidebar.classList.remove('open');
}

// Checkout functions
function openCheckout() {
    if (cart.length === 0) {
        showNotification('Your cart is empty!');
        return;
    }
    
    closeCart();
    showModal(checkoutModal);
    currentStep = 1;
    showStep(1);
}

function nextStep() {
    if (currentStep < 3) {
        if (currentStep === 1) {
            // Validate shipping form
            const form = document.getElementById('shippingForm');
            if (!form.checkValidity()) {
                form.reportValidity();
                return;
            }
        }
        
        currentStep++;
        showStep(currentStep);
        
        if (currentStep === 3) {
            processOrder();
        }
    }
}

function prevStep() {
    if (currentStep > 1) {
        currentStep--;
        showStep(currentStep);
    }
}

function showStep(step) {
    // Update step indicators
    document.querySelectorAll('.step').forEach((s, index) => {
        if (index + 1 <= step) {
            s.classList.add('active');
        } else {
            s.classList.remove('active');
        }
    });
    
    // Show/hide step content
    document.querySelectorAll('.checkout-step').forEach((s, index) => {
        s.style.display = index + 1 === step ? 'block' : 'none';
    });
}

function processOrder() {
    const paymentMethod = document.querySelector('input[name="payment"]:checked').value;
    const orderId = 'MP' + Date.now();
    const total = document.getElementById('cartTotal').textContent;
    
    // Save order to user's history
    const order = {
        id: orderId,
        userId: currentUser.id,
        items: [...cart],
        total: total,
        paymentMethod: getPaymentMethodName(paymentMethod),
        orderDate: new Date().toISOString(),
        status: 'confirmed'
    };
    
    // Save order history
    const orderHistory = getFromLocalStorage(`milkopure_orders_${currentUser.id}`) || [];
    orderHistory.push(order);
    saveToLocalStorage(`milkopure_orders_${currentUser.id}`, orderHistory);
    
    document.getElementById('orderId').textContent = orderId;
    document.getElementById('orderTotal').textContent = total;
    document.getElementById('orderPayment').textContent = getPaymentMethodName(paymentMethod);
    
    // Clear cart
    cart = [];
    updateCartUI();
    clearCartFromStorage();
}

function getPaymentMethodName(method) {
    const methods = {
        'cod': 'Cash on Delivery',
        'upi': 'UPI Payment',
        'card': 'Credit/Debit Card',
        'netbanking': 'Net Banking'
    };
    return methods[method] || method;
}

function closeCheckout() {
    hideModal(checkoutModal);
    currentStep = 1;
}

// Enhanced Chat functions with AI capabilities
function initializeChat() {
    chatBody.classList.add('collapsed');
    
    // Add welcome message with delay
    setTimeout(() => {
        addMessage("Welcome to MilkoPure! I'm here to help you with any questions about our organic dairy products. Feel free to ask about quality, ingredients, delivery, or anything else!", 'bot');
    }, 1000);
}

function toggleChat() {
    chatBody.classList.toggle('collapsed');
    const isCollapsed = chatBody.classList.contains('collapsed');
    chatToggle.style.transform = isCollapsed ? 'rotate(0deg)' : 'rotate(180deg)';
    
    // Focus on input when chat opens
    if (!isCollapsed) {
        setTimeout(() => {
            chatInput.focus();
        }, 300);
    }
}

function sendChatMessage() {
    const message = chatInput.value.trim();
    if (!message) return;
    
    // Add user message
    addMessage(message, 'user');
    chatInput.value = '';
    
    // Show typing indicator
    showTypingIndicator();
    
    // Generate bot response after realistic delay
    setTimeout(() => {
        hideTypingIndicator();
        const response = generateBotResponse(message);
        addMessage(response, 'bot');
    }, 1500);
}

function addMessage(text, sender) {
    const message = document.createElement('div');
    message.className = `message ${sender}-message`;
    message.innerHTML = `
        <div class="message-content">
            <p>${text}</p>
        </div>
    `;
    chatMessages.appendChild(message);
    chatMessages.scrollTop = chatMessages.scrollHeight;
}

function showTypingIndicator() {
    const typingDiv = document.createElement('div');
    typingDiv.className = 'message bot-message typing-indicator';
    typingDiv.innerHTML = `
        <div class="message-content">
            <div class="typing-dots">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
    `;
    chatMessages.appendChild(typingDiv);
    chatMessages.scrollTop = chatMessages.scrollHeight;
}

function hideTypingIndicator() {
    const typingIndicator = chatMessages.querySelector('.typing-indicator');
    if (typingIndicator) {
        typingIndicator.remove();
    }
}

function generateBotResponse(userMessage) {
    const lowerMessage = userMessage.toLowerCase();
    
    // Check for specific keywords and return appropriate responses
    for (const [keyword, response] of Object.entries(chatResponses)) {
        if (lowerMessage.includes(keyword)) {
            return response;
        }
    }
    
    // Check for greeting patterns
    if (lowerMessage.match(/^(hi|hello|hey|good morning|good afternoon|good evening)/)) {
        return "Hello! Welcome to MilkoPure. I'm here to help you with any questions about our organic dairy products. What would you like to know?";
    }
    
    // Check for thanks patterns
    if (lowerMessage.match(/(thank|thanks|appreciate)/)) {
        return "You're welcome! I'm happy to help. Is there anything else you'd like to know about our dairy products?";
    }
    
    // Check for product availability
    if (lowerMessage.includes('available') || lowerMessage.includes('stock')) {
        return "Most of our products are available for immediate delivery. You can check real-time availability on our products page. Some specialty items might have limited stock.";
    }
    
    // Check for order-related queries
    if (lowerMessage.includes('order') || lowerMessage.includes('buy')) {
        return "To place an order, please browse our products section and add items to your cart. You'll need to create an account for checkout. We accept various payment methods including cash on delivery.";
    }
    
    // Check for health-related queries
    if (lowerMessage.includes('health') || lowerMessage.includes('benefit')) {
        return "Our organic dairy products offer numerous health benefits including high-quality protein, calcium for strong bones, probiotics for digestive health, and essential vitamins. They're free from harmful chemicals and hormones.";
    }
    
    // Default response for unmatched queries
    return chatResponses.default;
}

// Utility functions
function showModal(modal) {
    modal.classList.add('show');
    modal.style.display = 'flex';
}

function hideModal(modal) {
    modal.classList.remove('show');
    modal.style.display = 'none';
}

function showLoginModal() {
    showModal(loginModal);
}

function showAuthRequired() {
    authRequired.style.display = 'flex';
}

function hideAuthRequired() {
    authRequired.style.display = 'none';
}

function validateEmail(email) {
    const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    return re.test(email);
}

function showError(elementId, message) {
    const errorElement = document.getElementById(elementId);
    if (errorElement) {
        errorElement.textContent = message;
    }
}

function clearErrors() {
    document.querySelectorAll('.error-msg').forEach(error => {
        error.textContent = '';
    });
}

function showNotification(message) {
    // Create notification element
    const notification = document.createElement('div');
    notification.style.cssText = `
        position: fixed;
        top: 20px;
        right: 20px;
        background: #2563eb;
        color: white;
        padding: 1rem 1.5rem;
        border-radius: 8px;
        z-index: 10000;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        animation: slideIn 0.3s ease;
    `;
    notification.textContent = message;
    
    document.body.appendChild(notification);
    
    setTimeout(() => {
        notification.remove();
    }, 3000);
}

function handleContactForm(e) {
    e.preventDefault();
    showNotification('Thank you for your message! We\'ll get back to you soon.');
    e.target.reset();
}

// Click outside modal to close
window.addEventListener('click', (e) => {
    if (e.target.classList.contains('modal')) {
        hideModal(e.target);
    }
});

// Close auth required when clicking outside
window.addEventListener('click', (e) => {
    if (e.target === authRequired) {
        hideAuthRequired();
    }
});

// Smooth header scroll effect
window.addEventListener('scroll', () => {
    const header = document.querySelector('.header');
    if (window.scrollY > 100) {
        header.style.background = 'rgba(255, 255, 255, 0.95)';
        header.style.backdropFilter = 'blur(10px)';
    } else {
        header.style.background = '#ffffff';
        header.style.backdropFilter = 'none';
    }
});

// Make functions globally accessible
window.addToCart = addToCart;
window.removeFromCart = removeFromCart;
window.updateQuantity = updateQuantity;
window.nextStep = nextStep;
window.prevStep = prevStep;
window.closeCheckout = closeCheckout;
window.showLoginModal = showLoginModal;

document.querySelectorAll('.nav-link').forEach(link => {
    link.addEventListener('click', (e) => {
        e.preventDefault();
        const targetId = link.getAttribute('href').substring(1);
        const targetElement = document.getElementById(targetId);
        if (targetElement) {
            targetElement.scrollIntoView({ behavior: 'smooth' });
        }
    });
});
 </script>
</body>
</html>
